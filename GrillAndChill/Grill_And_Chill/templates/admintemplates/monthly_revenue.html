{% extends 'admintemplates/index.html' %}
{% block content %}
<div class="mt-5">
    <h2 class="text-center">Monthly Revenue</h2>
    <h4 class="text-center">Total Revenue: {{ total_revenue }}€</h3>
    <h4 class="text-center">Total Orders: {{ order_count }}</h3>

    <div id="chart_div" style="width: 100%; height: 55vh;"></div>

    <script type="text/javascript">
        google.charts.load('current', {'packages':['corechart']});
        google.charts.setOnLoadCallback(drawChart);

        function drawChart() {
            var data = google.visualization.arrayToDataTable({{ chart_data|safe }});

            var options = {
                title: 'Monthly Revenue',
                hAxis: { title: 'Date' },
                vAxis: { title: 'Revenue (€)' },
                legend: 'none'
            };

            var chart = new google.visualization.ColumnChart(document.getElementById('chart_div'));
            chart.draw(data, options);
        }
    </script>
</div>
{% endblock %}
